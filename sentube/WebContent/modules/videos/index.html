<div>
<div class="videos">
 <template type="text/x-dust-template">
 <h1>Music</h1>
 <a class="video-nav-left" href="#"><i class="fa fa-angle-left"></i></a>
  {#.}
    <div>
	  <a href="videos/watch?v={id}">
	   <div class="thumbnail" style="background:url(https://i.ytimg.com/vi/{id}/mqdefault.jpg);background-position:center;background-size:contain;background-repeat:no-repeat;">  		   	     
	     <span class="duration">{duration}</span>
	   </div>  		   
	   <div class="description">
	   	<p class="view-count"><span>{viewCount} views</span></p>
	    <p class="title"><span>{title}</span></p>
	   </div>
	 </a>
    </div>
  {/.}
  <a class="video-nav-right" href="#"><i class="fa fa-angle-right"></i></a>
  </template>	
 </div>
 
 <div class="videos">
 <template type="text/x-dust-template">
 <h1>International</h1>
 <a class="video-nav-left" href="#"><i class="fa fa-angle-left"></i></a>
  {#.}
    <div>
	  <a href="videos/watch?v={id}">
	   <div class="thumbnail" style="background:url(https://i.ytimg.com/vi/{id}/mqdefault.jpg);background-position:center;background-size:contain;background-repeat:no-repeat;">  		   	     
	     <span class="duration">{duration}</span>
	   </div>  		   
	   <div class="description">
	   	<p class="view-count"><span>{viewCount} views</span></p>
	    <p class="title"><span>{title}</span></p>
	   </div>
	 </a>
    </div>
  {/.}
  <a class="video-nav-right" href="#"><i class="fa fa-angle-right"></i></a>
  </template>	
 </div>
 </div>
 <script>
 
 const display = (div, videos) => {
	 var length,id = "";
	 length = videos.length;
	 for(var i=0;i<length;i++) id += i < length-1 ? videos[i].id +"," : videos[i].id;
	 app.get("https://www.googleapis.com/youtube/v3/videos?key=AIzaSyBaYaWQcSP8P1Dau3kxDitRo7W9VA4EOPg&id="+id+"&part=contentDetails,statistics", result => {
		length = result.items.length;
	    for(i=0;i<length;i++) {
	    	const duration = result.items[i].contentDetails.duration.substring(2, result.items[i].contentDetails.duration.length).toLowerCase();
	    	const minutes = duration.substring(0, duration.indexOf('m'));
	    	const index = duration.indexOf('s');
			const seconds = index > 0 ? duration.substring(duration.indexOf('m')+1, index) : 0;
	    	videos[i].duration = (minutes.length  ? minutes : ("0"+minutes)) + " : " + (seconds.length > 1 ? seconds : ("0"+seconds));
	    	videos[i].viewCount = result.items[i].statistics.viewCount.replace(/\B(?=(\d{3})+\b)/g, ",");
	    }
	    var state = localStorage.getItem("state") ? JSON.parse(localStorage.getItem("state")) : {};
	    var index = state["panel_"+div.index()] ? state["panel_"+div.index()] : 0;
	    page.render(div,videos.slice(index,index+12),thumbnail => {
	    	if(index<12) $(".video-nav-left",div).hide();
	    	if(index>=length-12) $(".video-nav-right",div).hide();
	    	$(".video-nav-left",div).click(() => {
	    		const container = $("<div/>");
	    		$(".video-nav-right",div).show();
	    		index-=12;
	    		if(index<=0) $(".video-nav-left",div).hide();
	    		const top = $(window).scrollTop();
	    		page.render(div,videos.slice(index,index+12),false,container,() => {
	    	    	$("> div",div).remove();
	    	    	$("> div",container).insertAfter($(".video-nav-left",div));
	    	    	$('html, body').animate({scrollTop : top},800);
	    	    });
	    		state["panel_"+div.index()] = index;
	    		localStorage.setItem("state",JSON.stringify(state));
	    	});
	    	if(length<=12) $(".video-nav-right",div).hide();
	    	$(".video-nav-right",div).click(() => {
	    		$(".video-nav-left",div).show();
	    		const container = $("<div/>");
	    		index+=12;
	    		if(index>=length-12) $(".video-nav-right",div).hide();
	    		const top = $(window).scrollTop();
	    		page.render(div,videos.slice(index,index+12),false,container,() => {
	    	    	$("> div",div).remove();
	    	    	$("> div",container).insertAfter($(".video-nav-left",div));
	    	    	$('html, body').animate({scrollTop : top},800);
	    	    });
	    		state["panel_"+div.index()] = index;
	    		localStorage.setItem("state",JSON.stringify(state));
	    	});
	    	div.fadeTo(1000,1);
	    	thumbnail.addClass("animated flip");
	    });
	 },true);
 };
 
 document.addEventListener("DOMContentLoaded", () => {
	 var videos = new Array();
	 videos.push({id : "BGt1htuyhiU", title : "Youssou Ndour - Be careful"});
	 videos.push({id : "KlE8MlCWgmI", title : "Viviane Chidid - No Stress"});
	 videos.push({id : "a-B4Q5_I_mI", title : "Cheikh Lo - Degg Gui"});
	 videos.push({id : "j2Tj_ejWQf0", title : "Pape Diouf - Du Degn"});
	 videos.push({id : "NKttmg7NnVw", title : "Dip Doundou Guiss - Deug Deug"});
	 videos.push({id : "2Ky8hnq2F-Y", title : "Keur Gui - Diogoufi"});
	 videos.push({id : "cHjiBgNF9GY", title : "NITDOFF - Nattu Dou Wess"});
	 videos.push({id : "unYEZlYsoSY", title : "Fou Malade - Senegal"});
	 videos.push({id : "0ChaoRFyytA", title : "Titi - Guen Gui Deuk"});
	 videos.push({id : "6ehfmdRb_uE", title : "Elage DIOUF - Demone Na"});
	 videos.push({id : "O1ClYEM43d4", title : "Queen Biz - Eksina"});
	 videos.push({id : "suatQi7iAyc", title : "Philip Monteiro - Name na la"});
	 videos.push({id : "g6QrXwGUqAM", title : "Wally Seck - Stay"});
	 videos.push({id : "ymgO2OZQZfw", title : "Sidiki Diabate - Fais moi confiance"});
	 videos.push({id : "TBWsEjFFD6k", title : "Thione Seck - Diaga"});
	 videos.push({id : "rmc1nuaX0Yw", title : "Pape & Cheikh - Lonkotina"});
	 videos.push({id : "HeFpnYKGXMk", title : "Coumba Gawlo - Topma"});
	 videos.push({id : "7lENHksMvXM", title : "Safari - Fat Ndiaye Coumba Anta"});
	 videos.push({id : "Km0Ums-d8N0", title : "Nafina - Lane Ngay Khar"});
	 videos.push({id : "VzB5n6Tw-xs", title : "Ami Colle Dieng - Fans Yi"});
	 videos.push({id : "m-xrL7PkU4w", title : "Amina - Feksima"});
	 videos.push({id : "TxyhI0CDG-I", title : "Alioune Mbaye Nder - Maladie d'Amour"});
	 videos.push({id : "-m7DJ607tU4", title : "Malouida - Wadji demna"});
	 videos.push({id : "FwBeLCLMa1s", title : "Adiouza Diallo - Cey Love"});
	 videos.push({id : "r0WTxbFOjco", title : "Momo Dieng - Lang gui"});
	 videos.push({id : "SyJWbN7tGbg", title : "Abou Thioubalo - Solution"});
	 videos.push({id : "0vnXBFjolGE", title : "Sidy Samb - Djoubo"});
	 videos.push({id : "R08rX2-sTuE", title : "Faada Freddy - We Sing In Time"});
	 videos.push({id : "esU9NnHP2aE", title : "Canabasse - Na Gnou Dem"});
	 videos.push({id : "doIYcuBkKtM", title : "Fata - Decouverte"});
	 videos.push({id : "_iLU1DVUH9k", title : "Awadi & Duggy Tee - Merci Mon Dieu"});
	 videos.push({id : "evin2iPw6-0", title : "Gaston - La Foi"});
	 videos.push({id : "4U8MZVv1Q88", title : "Fatou Guewel - Santati"});
	 videos.push({id : "vm5ESSrgz98", title : "Djibril Diop - Ki la tete"});
	 videos.push({id : "s6mkbNnpgVw", title : "Gokh Bi System - Yaye"});
	 videos.push({id : "LyG0NPXGqKo", title : "Abiba - Sama mother"});
	 videos.push({id : "VnTyGAmDJXo", title : "Carlou D - Sagn Sagn"});
	 videos.push({id : "G9VGqcEIi_g", title : "Souleymane faye - JELEETI"});
	 videos.push({id : "QF6UsqvrxEA", title : "Mbaye Dieye Faye - Puissance"});
	 videos.push({id : "EhDOvtQKXrk", title : "Ngaaka Blinde - Deff Buzz"});
	 videos.push({id : "feRQdSg1rpw", title : "Suadu - Celebrate"});
	 videos.push({id : "hs6qelc8YtU", title : "Bideew Bou Bess - I Belong"});
	 videos.push({id : "AqU-432JrRU", title : "Big D - Let's Go !!!"});
	 videos.push({id : "9bDLVWtPa8k", title : "Nix - Zik des gentlemen"});
	 videos.push({id : "gGfuwgYE7Ho", title : "Freestyle - Show me"});
	 videos.push({id : "isdWSKnSSyE", title : "Safari - Art Bi"});
	 videos.push({id : "cgFENtRBWsU", title : "Deesse Major - Gem Sa Bop"});
	 videos.push({id : "Fjba4g93UX8", title : "HAKILL - Def saRAP"});
	 display($(".videos:eq(0)"),videos);
	 videos = new Array();
	 videos.push({id : "rmlmOk4ubcU", title : "Jamiroquai - Automaton"});
	 videos.push({id : "XD4b0fSuB6c", title : "Eliot Sumner - Information"});
	 videos.push({id : "IhG6pZIlhZQ", title : "Take That - Let in the sun"});
	 videos.push({id : "yfuzpfpeX1s", title : "Becky G - Break a Sweat"});
	 videos.push({id : "hdw1uKiTI5c", title : "Katy Perry - Rise"});
	 videos.push({id : "OhGZgtPTY04", title : "Mikky Ekko - Watch Me Rise"});
	 videos.push({id : "cwLRQn61oUY", title : "Demi Lovato - Confident"});
	 videos.push({id : "cc91EfoBh8A", title : "Rick Astley - Angels On My Side"});
	 videos.push({id : "4HazJhPnrB8", title : "Alicia Keys - In Common"});
	 videos.push({id : "Y56lpXvXbs0", title : "OneRepublic - Kids"});
	 videos.push({id : "QxsmWxxouIM", title : "Beyonce - sorry"});
	 videos.push({id : "vn-6fiVkAcA", title : "Bastille - Send Them Off!"});
	 videos.push({id : "HRqSg2PrJpY", title : "Rise Against - People Live Here"});
	 videos.push({id : "hTMrlHHVx8A", title : "30 Seconds To Mars - Kings and Queens"});
	 videos.push({id : "m9DO3zpdWqw", title : "James Arthur - Recovery"});
	 videos.push({id : "xv11vZj4Z0g", title : "Volbeat - The bliss"});
	 videos.push({id : "GKSRyLdjsPA", title : "Sia - The Greatest"});
	 videos.push({id : "fscfRnr1-Ic", title : "Holy Holy - House of Cards"});
	 videos.push({id : "5XWgXfIszKY", title : "Tweet - I Was Created For This"});
	 videos.push({id : "xwGERoFtQoM", title : "Labrinth - Let It Be"});
	 videos.push({id : "hXTAn4ELEwM", title : "Years & Years - Shine"});
	 videos.push({id : "DKRRg150OYU", title : "Ella Henderson - Glow"});
	 videos.push({id : "C_tnDY-_oxs", title : "Parade Of Lights - Feeling Electric"});
	 videos.push({id : "g-D_4erfsVQ", title : "Lonely The Brave - Victory Line"});
	 videos.push({id : "K0Wi-2vVZKo", title : "A Great Big World - Won't Stop Running"});
	 videos.push({id : "X2a_Pxd-F1I", title : "We Came As Romans - Regenerate"});
	 videos.push({id : "Dy6MpsDPKts", title : "Within Temptation - Paradise (What About Us?)"});
	 videos.push({id : "QQXPWwnpnuw", title : "DI-RECT - Paper Plane"});
	 videos.push({id : "HYplnRjMVhM", title : "Leon Bridges - Smooth Sailin'"});
	 videos.push({id : "koeW4g8Y-lg", title : "Nero - The Thrill"});
	 videos.push({id : "ISDIAVarYjU", title : "Young Guns - I Want Out"});
	 videos.push({id : "jteOVglvxcY", title : "Brandon Heath - Love Does"});
	 videos.push({id : "du7gly_OpOI", title : "Elton John - A Good Heart"});
	 videos.push({id : "AJtDXIazrMo", title : "Ellie Goulding - Love Me Like You Do"});
	 videos.push({id : "RsQjC5zVnt8", title : "Phantogram - Fall In Love"});
	 videos.push({id : "m20BTdy9FGI", title : "Olly Murs - Dear Darlin'"});
	 videos.push({id : "bezPDJIFP78", title : "Rick Ross - I Think She Like Me"});
	 videos.push({id : "ij_0p_6qTss", title : "Selena Gomez - The Heart Wants What It Wants"});
	 videos.push({id : "LXrP66ot0zs", title : "Jason Aldean - Lights Come On"});
	 videos.push({id : "faG8RiaANek", title : "Alabama Shakes - Sound & Color"});
	 videos.push({id : "aULZrgZBkmY", title : "Jodie Abacus - Good Feeling"});
	 videos.push({id : "5q0xNEFbcfU", title : "Marc Sway - Feel the Same"});
	 videos.push({id : "fVBLbfEs2BY", title : "Rennata - Trust Your Feelings"});
	 videos.push({id : "IPtUV01R1RE", title : "You Me At Six - Room To Breathe"});
	 videos.push({id : "T5ikHdt961E", title : "Ronan Keating - Breathe"});
	 videos.push({id : "-tVWt2RDsoM", title : "Bring Me The Horizon - Follow You"});
	 videos.push({id : "LqCqYP7hDWI", title : "Kelly Clarkson - Piece by Piece"});
	 videos.push({id : "_kqQDCxRCzM", title : "One Direction - You & I"});
	 videos.push({id : "LDsxtBVLyss", title : "Broods - Free"});
	 videos.push({id : "nQr-HmfXZ-Q", title : "Usher - moving mountains"});
	 display($(".videos:eq(1)"),videos);
 });
 
 </script> 